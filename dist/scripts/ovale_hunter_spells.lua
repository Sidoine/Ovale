local __exports = LibStub:NewLibrary("ovale/scripts/ovale_hunter_spells", 80000)
if not __exports then return end
local __Scripts = LibStub:GetLibrary("ovale/Scripts")
local OvaleScripts = __Scripts.OvaleScripts
__exports.register = function()
    local name = "ovale_hunter_spells"
    local desc = "[7.0] Ovale: Hunter spells"
    local code = [[
# Hunter spells and functions.

Define(a_murder_of_crows 131894)
	SpellInfo(a_murder_of_crows cd=60 focus=30)
Define(a_murder_of_crows_debuff 131894)
Define(aimed_shot 19434)
	SpellInfo(aimed_shot focus=50)
	SpellRequire(aimed_shot focus_percent 0=buff,lock_and_load_buff talent=lock_and_load_talent)
	SpellAddBuff(aimed_shot lock_and_load_buff=-1 talent=lock_and_load_talent)
Define(arcane_shot 185358)
	SpellInfo(arcane_shot focus=-5)
	SpellAddBuff(arcane_shot marking_targets_buff=-1)
	# TODO: Following line's if statements don't work?
	#SpellAddTargetDebuff(arcane_shot hunters_mark_debuff=1 if_buff=marking_targets_buff)
	#SpellAddTargetDebuff(arcane_shot hunters_mark_debuff=1 if_buff=trueshot_buff)
Define(aspect_of_the_eagle 186289)
	SpellInfo(aspect_of_the_eagle cd=120 gcd=0 offgcd=1)
	SpellAddBuff(aspect_of_the_eagle aspect_of_the_eagle_buff=1)
Define(aspect_of_the_eagle_buff 186289)
	SpellInfo(aspect_of_the_eagle_buff duration=10)
Define(aspect_of_the_wild 193530)
	SpellInfo(aspect_of_the_wild cd=120)
Define(aspect_of_the_wild_buff 193530)
	SpellInfo(aspect_of_the_wild_buff duration=10)
Define(barbed_shot 217200)
	SpellInfo(barbed_shot cd=10 cd_haste=ranged charges=2)
	SpellAddPetBuff(barbed_shot pet_frenzy_buff=1)
Define(barrage 120360)
	SpellInfo(barrage cd=20 focus=60)
Define(bestial_wrath 19574)
	SpellInfo(bestial_wrath cd=60)
	SpellAddBuff(bestial_wrath bestial_wrath_buff=1)
Define(bestial_wrath_buff 19574)
	SpellInfo(bestial_wrath_buff duration=15)
Define(black_arrow 194599)
	SpellInfo(black_arrow cd=15 cd_haste=ranged focus=40)
	SpellAddTargetDebuff(black_arrow black_arrow_debuff=1)
Define(black_arrow_debuff 194599)
	SpellInfo(black_arrow_debuff duration=8 tick=2)
Define(bullseye 204089)
Define(bullseye_buff 204089)
Define(bursting_shot 186387)
	SpellInfo(bursting_shot cd=30 focus=10)
Define(butchery 212436)
	SpellInfo(butchery focus=40 cd=15 cd_haste=ranged)
Define(caltrops 194277)
	SpellInfo(caltrops cd=15)
Define(caltrops_debuff 194279)
Define(carve 187708)
	SpellInfo(carve focus=40)
	SpellAddTargetDebuff(carve serpent_sting_debuff=1 talent=serpent_sting_talent)
Define(chimaera_shot 53209)
	SpellInfo(chimaera_shot focus=-10 cd=15 cd_haste=ranged)
Define(cobra_shot 193455)
	SpellInfo(cobra_shot focus=35)
Define(counter_shot 147362)
	SpellInfo(counter_shot cd=24)
Define(dire_beast 120679)
	SpellInfo(dire_beast focus=25 cd=20)
	SpellAddPetBuff(dire_beast dire_beast_buff=1)
Define(dire_beast_buff 120679)
	SpellInfo(dire_beast_buff duration=8)
	# TODO: Regenerates 3 focus every 2 seconds, double for dire_stable_talent
Define(dire_frenzy 217200)
	SpellInfo(dire_frenzy cd=12 focus=-25 charges=2)
	SpellInfo(dire_frenzy charges=3 if_equipped=the_mantle_of_command)
	SpellAddPetBuff(dire_frenzy dire_frenzy_buff=1)
Define(dire_frenzy_buff 217200)
	SpellInfo(dire_frenzy_buff duration=8 max_stacks=3)
Define(dragonsfire_grenade 194855)
	SpellInfo(dragonsfire_grenade cd=30)
Define(explosive_shot 212431)
	SpellInfo(explosive_shot cd=30)
Define(explosive_shot_detonate 212679)
Define(explosive_trap 191433)
	SpellInfo(explosive_trap cd=30)
	SpellInfo(explosive_trap add_cd=-20 if_spell=enhanced_traps)
Define(explosive_trap_debuff 13812)
	SpellInfo(explosive_trap_debuff duration=20 tick=2)
Define(exhilaration 109304)
	SpellInfo(exhilaration cd=120)
Define(flanking_strike 202800)
	SpellInfo(flanking_strike cd=6 focus=50)
Define(frizzos_fingertrap 137043)
Define(fury_of_the_eagle 203415)
	SpellInfo(fury_of_the_eagle cd=45)
Define(fury_of_the_eagle_debuff 203415) #TODO Does not seem to exist
Define(harpoon 190925)
	SpellInfo(harpoon cd=20)
Define(heart_of_the_phoenix 55709)
	SpellInfo(heart_of_the_phoenix cd=480)
Define(heart_of_the_phoenix_debuff 55711)
	SpellInfo(heart_of_the_phoenix_debuff duration=480)
Define(hunters_mark_debuff 185365)
	SpellInfo(hunters_mark_debuff duration=12)
Define(intimidation 19577)
	SpellInfo(intimidation cd=60)
Define(kill_command 34026)
	SpellInfo(kill_command cd=7.5 cd_haste=ranged focus=30)
	# Unsure of right syntax for following line.  
	# cobra_shot resets kill_command upon impact with the target when bestial_wrath_buff is up
	# SpellRequire(kill_command cd_percent 0=spell,cobra_shot if_buff=bestial_wrath_buff)
Define(lacerate 185855)
	SpellInfo(lacerate focus=35 cd=10)
	SpellAddTargetDebuff(lacerate lacerate_debuff=1)
Define(lacerate_debuff 185855)
Define(lock_and_load_buff 194594)
Define(marked_shot 185901)
	SpellInfo(marked_shot focus=30)
	SpellAddBuff(marked_shot vulnerable=1)
	SpellAddTargetDebuff(marked_shot hunters_mark_debuff=-1)
	SpellRequire(marked_shot unusable 1=target_debuff,!hunters_mark_debuff)
Define(marking_targets_buff 223138)
	SpellInfo(marking_targets_buff duration=10)
Define(mend_pet 136)
	SpellInfo(mend_pet duration=10)
	SpellAddBuff(mend_pet mend_pet=1)
Define(moknathal_tactics_buff 201081)
	SpellInfo(moknathal_tactics_buffs duration=8)
Define(mongoose_bite 190928)
	SpellInfo(mongoose_bite cd=12)
Define(mongoose_fury_buff 190931)
	SpellInfo(mongoose_fury_buff duration=12)
Define(multi_shot 2643)
	SpellInfo(multi_shot focus=40 specialization=beast_mastery)
Define(multishot 2643)
	SpellInfo(multishot focus=40 specialization=beast_mastery)
	# TODO: Following line's if statements don't work?
	#SpellAddTargetDebuff(multishot hunters_mark_debuff=1 if_buff=marking_targets_buff)
	#SpellAddTargetDebuff(multishot hunters_mark_debuff=1 if_buff=trueshot_buff)
	# TODO: 2 focus per target hit, estimate with tagged enemies?
	SpellInfo(multishot focus=-2 specialization=marksman)
	SpellAddBuff(multishot marking_targets_buff-1 specialization=marksman)
Define(muzzle 187707)
	SpellInfo(muzzle cd=15)
Define(pet_beast_cleave_buff 118455)
Define(pet_dire_frenzy_buff 217200)
Define(pet_frenzy_buff 272790)
	SpellInfo(pet_frenzy_buff duration=8 max_stacks=3)
Define(piercing_shot 198670)
	SpellInfo(piercing_shot cd=30 focus=20)
Define(raptor_strike 186270)
	SpellInfo(raptor_strike focus=25)
	SpellAddTargetDebuff(raptor_strike serpent_sting_debuff=1 talent=serpent_sting_talent)
Define(revive_pet 982)
	SpellInfo(revive_pet focus=35)
Define(sentinel 206817)
	SpellInfo(sentinel cd=30 charges=2)
	SpellAddTargetDebuff(sentinel hunters_mark_debuff=1)
Define(sentinels_sight_buff 208913)
Define(serpent_sting_debuff 118253)
Define(sidewinders 214579)
	SpellInfo(sidewinders focus=-50 cd=12 cd_haste=ranged)
Define(snake_hunter 201078)
	SpellInfo(snake_hunter cd=90)
	#TODO Add 3 charges of mongoose_bite
Define(spitting_cobra 194407)
	SpellInfo(spitting_cobra cd=90)
	SpellAddBuff(spitting_cobra spitting_cobra_buff)
Define(spitting_cobra_buff 194407)
	SpellInfo(spitting_cobra_buff duration=30)
Define(stampede 201430)
	SpellInfo(stampede cd=180)
Define(steady_focus_buff 193534)
	SpellInfo(steady_focus_buff duration=12)
Define(steel_trap 162488)
	SpellInfo(steel_trap cd=60)
	SpellAddTargetDebuff(steel_trap steel_trap_debuff=1)
Define(steel_trap_debuff 162487)
	SpellInfo(steel_trap_debuff duration=30)
Define(the_mantle_of_command 144326)
Define(throwing_axes 200163)
	SpellInfo(throwing_axes focus=15 cd=15)
Define(titans_thunder 207068)
	SpellInfo(titans_thunder cd=60)
Define(titans_thunder_tick 207097)
Define(trap_launcher 77769)
	SpellInfo(trap_launcher cd=1.5)
Define(true_aim_debuff 199803)
	SpellInfo(true_aim_debuff max_stacks=8)
Define(trueshot 193526)
	SpellInfo(trueshot cd=180)
	SpellAddBuff(trueshot trueshot_buff=1)
Define(trueshot_buff 193526)
	SpellInfo(trueshot_buff duration=15)
Define(volley 194386)
	SpellInfo(volley cd=1.5)
	SpellAddBuff(volley volley_buff=1)
	SpellRequire(volley unusable 1=buff,volley_buff)
Define(volley_buff 194386)
Define(vulnerable 187131)
	SpellInfo(vulnerable duration=30)
Define(vulnerability_debuff 187131)
	SpellInfo(vulnerability_debuff duration=30)
Define(windburst 204147)
	SpellInfo(windburst focus=20 cd=20)
Define(t21_2p_exposed_flank_buff 252094)
	SpellInfo(t21_2p_exposed_flank_buff duration=20)

# Talents
Define(a_murder_of_crows_talent 12)
Define(a_murder_of_crows_talent_marksman 3)
Define(alpha_predator_talent 3)
Define(animal_companion_talent 2)
Define(aspect_of_the_beast_talent 19)
Define(barrage_talent 17)
Define(binding_shot_talent 15)
Define(birds_of_prey_talent 19)
Define(bloodseeker_talent 10)
Define(born_to_be_wild_talent 13)
Define(butchery_talent 6)
Define(calling_the_shots_talent 19)
Define(camouflage_talent 9)
Define(careful_aim_talent 4)
Define(chakrams_talent 21)
Define(chimaera_shot_talent 6)
Define(dire_beast_talent 3)
Define(double_tap_talent 18)
Define(explosive_shot_talent 6)
Define(flanking_strike_talent 18)
Define(guerrilla_tactics_talent 4)
Define(hunters_mark_talent 12)
Define(hydras_bite_talent 5)
Define(killer_cobra_talent 20)
Define(killer_instinct_talent 1)
Define(lethal_shots_talent 16)
Define(lock_and_load_talent 20)
Define(master_marksman_talent 1)
Define(mongoose_bite_talent 17)
Define(natural_mending_talent 8)
Define(one_with_the_pack_talent 5)
Define(piercing_shot_talent 21)
Define(posthaste_talent 14)
Define(scent_of_blood_talent 4)
Define(serpent_sting_talent 2)
Define(spitting_cobra_talent 21)
Define(stampede_talent 18)
Define(steady_focus_talent 10)
Define(steel_trap_talent 11)
Define(stomp_talent 16)
Define(streamline_talent 11)
Define(terms_of_engagement_talent 2)
Define(thrill_of_the_hunt_talent 11)
Define(tip_of_the_spear_talent 16)
Define(trailblazer_talent 7)
Define(venomous_bite_talent 10)
Define(vipers_venom_talent 1)
Define(volley_talent 5)
Define(wildfire_infusion_talent 20)

# Legendary items
Define(qapla_eredun_war_order 137227)
Define(call_of_the_wild 137101)
Define(parsels_tongue 151805)
Define(parsels_tongue_buff 248085)
Define(buff_sephuzs_secret 208051)
Define(roar_of_the_seven_lions 137080)
Define(zevrims_hunger 137055)

# Item set
Define(t20_2p_critical_aimed_damage_buff 242242) # TODO

# Non-default tags for OvaleSimulationCraft.
SpellInfo(dire_beast tag=main)
SpellInfo(dire_frenzy tag=main)
SpellInfo(barrage tag=shortcd)

]]
    OvaleScripts:RegisterScript("HUNTER", nil, name, desc, code, "include")
end
